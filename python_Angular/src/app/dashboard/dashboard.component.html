<div class="dashboard-container">
  <nav class="navbar">
    <h1>ğŸ“Š Data Processor</h1>
    <div class="user-info">
      <span>ğŸ‘¤ {{ username }}</span>
      <button class="btn btn-danger btn-sm" (click)="logout()">DÃ©connexion</button>
    </div>
  </nav>

  <div class="dashboard-content">
    <div class="stats-cards">
      <div class="stat-card">
        <h3>{{ stats.total_files || 0 }}</h3>
        <p>Fichiers traitÃ©s</p>
      </div>
      <div class="stat-card">
        <h3>{{ stats.total_rows || 0 }}</h3>
        <p>Lignes traitÃ©es</p>
      </div>
      <div class="stat-card">
        <button class="btn btn-primary" (click)="goToUpload()">
          â• Nouveau fichier
        </button>
      </div>
    </div>

    <div class="files-section">
      <h2>ğŸ“ Historique des fichiers</h2>
      <div *ngIf="files.length === 0" class="empty-state">
        Aucun fichier traitÃ© pour le moment
      </div>
      <table *ngIf="files.length > 0" class="table">
        <thead>
          <tr>
            <th>Nom du fichier</th>
            <th>Date</th>
            <th>Lignes</th>
            <th>Colonnes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let file of files">
            <td>{{ file.filename }}</td>
            <td>{{ file.upload_date | date:'short' }}</td>
            <td>{{ file.rows }}</td>
            <td>{{ file.columns }}</td>
            <td>
              <button class="btn btn-sm btn-danger" (click)="deleteFile(file.filename)">
                ğŸ—‘ï¸ Supprimer
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
